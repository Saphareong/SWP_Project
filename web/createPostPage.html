<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Roboto:ital,wght@0,100;0,300;0,400;0,500;0,700;0,900;1,100;1,300;1,400;1,500;1,700;1,900&display=swap"
      rel="stylesheet"
    />
    <script
      src="https://kit.fontawesome.com/03ade0a214.js"
      crossorigin="anonymous"
    ></script>
    <script
      src="https://cdn.tiny.cloud/1/v5o2pa741vownqney7esv5efwtt657k8j38w8k2womugtuyg/tinymce/5/tinymce.min.js"
      referrerpolicy="origin"
    ></script>
    <link rel="stylesheet" href="./styles/createPostPage.css" />
    <title>New Post | FPT Blog</title>
  </head>
  <body>
    <header>
      <div class="container_header">
        <div class="container_left">
          <div class="container_logo">
            <a href="loadBlogs">
              <img
                src="https://i.chungta.vn/2017/12/22/LogoFPT-2017-copy-3042-1513928399.jpg"
              />
            </a>
          </div>
        </div>

        <div class="container_right">
          <div class="icon_notification_container">
            <img src="./images/close_button_icon.svg" />
          </div>
        </div>
      </div>
    </header>

    <!-- Main -->

    <section class="main">
      <div class="container_main">
        <div class="container_left"></div>
        <div class="container_middle">
          <div class="absolute_edit">
            <p>Edit</p>
          </div>
          <div class="container_content">
            <!-- <div class="button_cover_image_container">
              <div class="image-upload">
                <label for="file-input"> Add a cover image </label>

                <input id="file-input" type="file" style="display: none" />
              </div>
            </div> -->
            <div class="textarea_title_container">
              <textarea
                name="title"
                id="title_textarea"
                placeholder="New post title here..."
                maxlength="60"
                onclick="handleMouse(event)"
              ></textarea>
            </div>
            <div class="textarea_categories_container">
              <label for="cars">What's your post talking about:</label>

              <select name="cars" id="cars">
                <option value="volvo">Monolithic application</option>
                <option value="saab">Microservices</option>
                <option value="mercedes">Kubernetes</option>
                <option value="audi">Docker</option>
                <option value="audi">Other</option>
              </select>
            </div>
            <div class="textarea_tags_container">
              <textarea
                name="tags"
                id="tags_textarea"
                placeholder="Add up to 4 tags..."
                maxlength="60"
                onclick="handleMouse(event)"
              ></textarea>
            </div>
            <div class="textarea_content_container">
              <textarea id="content_area" name="content">
                  <h3>Chào mừng bạn đến với Blog nơi rất hay...</h3>
                  <img src="https://scontent.fsgn13-1.fna.fbcdn.net/v/t1.6435-9/240940699_1592346694443253_6861475202472920742_n.jpg?_nc_cat=111&ccb=1-5&_nc_sid=09cbfe&_nc_ohc=VLe8T2O0WbIAX_PRAHU&_nc_ht=scontent.fsgn13-1.fna&oh=b0649225f911905d9729ece1a012b821&oe=616C11B0" height="50%"/>
              </textarea>
            </div>
          </div>
          <div class="container_button">
            <button>Publish</button>
          </div>
        </div>
        <div class="container_info"></div>
      </div>
    </section>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <script>
      tinymce.init({
        selector: '#content_area',
        setup: function (ed) {
          ed.on('click', function (event) {
            console.log(`Mouse X: ${event.clientX}, Mouse Y: ${event.clientY}`);
            const ref = document.querySelector('.container_info');
            const stringHtml = `<div style="position: sticky; top: ${50}vh" class="pseudo_info"><h3>Editor Basics</h3><li>We use TinyMCE.</li></div>`;
            ref.innerHTML = stringHtml;
          });
        },
        plugins: 'autoresize',
        toolbar:
          'formatselect | ' +
          'bold italic backcolor forecolor| alignleft aligncenter ' +
          'alignright alignjustify | bullist numlist outdent indent | ' +
          'removeformat | help | codesample',
        content_style:
          'body { font-weight: 400; font-size:18px }' + 'p { margin: 0',
        toolbar_mode: 'floating',
        statusbar: false,
      });
    </script>
    <script>
      $('#title_textarea')
        .each(function () {
          this.setAttribute(
            'style',
            'height:' + this.scrollHeight + 'px;overflow-y:hidden;'
          );
        })
        .on('input', function () {
          this.style.height = '0';
          this.style.height = this.scrollHeight + 'px';
        });

      function handleMouse(event) {
        const ref = document.querySelector('.container_info');
        if (event.srcElement.id === 'title_textarea') {
          const stringHtml = `<div style="position: sticky; top: ${event.clientY}px" class="pseudo_info"><h3>Writing a Great Post Title</h3><li>Think of your post title as a super short (but compelling!) description — like an overview of the actual post in one short sentence.</li><li>Use keywords where appropriate to help ensure people can find your post by search.</li></div>`;
          ref.innerHTML = stringHtml;
        } else {
          const stringHtml = `<div style="position: sticky; top: ${event.clientY}px" class="pseudo_info"><h3>Tagging Guidelines</h3><li>Tags help people find your post.</li><li>Think of tags as the topics or categories that best describe your post.</li><li>Add up to four comma-separated tags per post. Combine tags to reach the appropriate subcommunities.</li><li>Use existing tags whenever possible.
Some tags, such as “help” or “healthydebate”, have special posting guidelines.</li></div>`;
          ref.innerHTML = stringHtml;
        }
      }
    </script>
  </body>
</html>
